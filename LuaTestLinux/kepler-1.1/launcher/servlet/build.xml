<?xml version="1.0" encoding="UTF-8"?><!-- ======================================================================= --><!-- Build file                                                              --><!-- ======================================================================= --><project name="CGILua" default="all" basedir=".">	<!-- =================================================================== -->	<!-- Edit this variable to point to installation directory!              -->	<!-- =================================================================== -->	<property name="libext" value="dll" />		<property name="KEPLER_ROOT" value="C:/Program Files/Kepler" />	<property name="KEPLER_BIN"  value="${KEPLER_ROOT}/bin" />	<property name="KEPLER_LUA"  value="${KEPLER_ROOT}/bin" />	<property name="KEPLER_WEB"  value="${KEPLER_ROOT}/web" />	<property name="KEPLER_CONF" value="${KEPLER_ROOT}/conf" />	<property name="LUA_PATH" value="${KEPLER_LUA}/?.lua;${KEPLER_LUA}/?/?.lua;${KEPLER_LUA}/?/init.lua" />	<property name="LUA_CPATH" value="${KEPLER_BIN}/?.${libext};${KEPLER_BIN}/l?.${libext}" />		<!-- =================================================================== -->	<!-- Initializes some variables                                          -->	<!-- =================================================================== -->	<property name="src.java.lib" value="./WEB-INF/lib" />	<property name="src.java.dir" value="./WEB-INF/src" />	<property name="build.dir" value="./WEB-INF/classes" />	<property name="debug" value="on" />	<property name="optimize" value="on" />	<property name="deprecation" value="off" />	<property name="libname" value="cgilua" />	<property name="version" value="5.0" />	<property name="jarname" value="${libname}-${version}.jar" />	<!-- ================================================================== -->	<!-- Prints useful build environment values                             -->	<!-- ================================================================== -->	<target name="env">		<echo message="build.compiler = ${build.compiler}"/>		<echo message="java.home = ${java.home}"/>		<echo message="user.home = ${user.home}"/>		<echo message="java.class.path = ${java.class.path}"/>		<echo message=""/>	</target>	<!-- =================================================================== -->	<!-- Prepare to compile                                                  -->	<!-- =================================================================== -->	<target name="prepare" depends="env">		<mkdir dir="${build.dir}"/>	</target>	<!-- =================================================================== -->	<!-- Compile the java files                                              -->	<!-- =================================================================== -->	<target name="compile" depends="prepare">		<javac srcdir="${src.java.dir}" destdir="${build.dir}" debug="${debug}" deprecation="${deprecation}" optimize="${optimize}">			<classpath>				<fileset dir="${src.java.lib}" casesensitive="yes">					<patternset>						<include name="**/*.jar"/>					</patternset>				</fileset>			</classpath>		</javac>	</target>	<!-- =================================================================== -->	<!-- Generate the JAR                                                    -->	<!-- =================================================================== -->	<target name="jar" depends="compile">		<jar jarfile="./${jarname}" update="yes">			<fileset dir="${build.dir}" includes="**/*.class"/>		</jar>	</target>	<target name="delete">		<delete file="./${jarname}"/>	</target>	<!-- =================================================================== -->	<!-- Generate the JAR                                                    -->	<!-- =================================================================== -->	<target name="config">		<copy file="./WEB-INF/t_web.xml" tofile="./WEB-INF/web.xml" overwrite="true" />		<copy file="./t_servlet.lua" tofile="./servlet.lua" overwrite="true" />				<replace file="./WEB-INF/web.xml" token="CGILUA_DIR" value="${KEPLER_LUA}" />		<replace file="./servlet.lua" token="[[LUA_PATH]]" value="[[${LUA_PATH}]]" />		<replace file="./servlet.lua" token="[[LUA_CPATH]]" value="[[${LUA_CPATH}]]" />	</target>		<target name="all" depends="jar,config" /></project>